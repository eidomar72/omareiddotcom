(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{458:function(t,e,o){},459:function(t,e,o){},460:function(t,e,o){},461:function(t,e,o){},462:function(t,e,o){t.exports=o.p+"img/acec522.svg"},463:function(t,e,o){"use strict";var n=o(458);o.n(n).a},464:function(t,e,o){"use strict";var n=o(8),r={props:["data","size","page"],components:{"c-scroll-arrow":o(466).a},data:function(){return{scrollRatio:0,scrollRatioCache:!1,bgTranslateMax:20,bgOpacity:1,isActive:!0}},computed:{maskOpacity:function(){return Math.min(this.bgOpacity,this.bgOpacity*this.scrollRatio*2).toFixed(3)},contentOpacity:function(){return 1-Math.min(1,4*this.scrollRatio).toFixed(3)}},mounted:function(){"desktop"==this.deviceType&&(this.$nuxt.$on("layoutScroll",this.onScroll),this.onScroll())},methods:{onScroll:function(t){this.isActive=this.data.transparent||!t||t<1.2*window.innerHeight;var e=this.$el.getBoundingClientRect().top,o=this.$el.offsetHeight;if(this.scrollRatio=Math.min(1,-e/o).toFixed(2),!1===this.scrollRatioCache||this.scrollRatio!=this.scrollRatioCache){if(this.$refs.bg){var r=-Math.min(1,2*this.scrollRatio)*this.bgTranslateMax;new n.b(this.$refs.bg,1.2,{y:r+"vh",ease:Power4.easeOut})}if(this.$refs.content){var c=-Math.min(1,2*this.scrollRatio)*this.bgTranslateMax*2;new n.b(this.$refs.content,1.2,{y:c+"vh",ease:Power4.easeOut})}this.scrollRatioCache=this.scrollRatio}}},destroyed:function(){this.$nuxt.$off("layoutScroll",this.onScroll)},watch:{isActive:function(t){this.$refs.video&&(t?this.$refs.video.play():this.$refs.video.pause())}}},c=(o(470),o(4)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.data?o("div",{staticClass:"hero",class:t.size?"hero--"+t.size:""},[o("div",{staticClass:"hero__container"},[o("div",{ref:"bg",staticClass:"hero__bg"},["image"===t.data.type&&t.data.image||"desktop"!=t.deviceType&&t.data.image_mobile.url?o("div",{staticClass:"image",style:"desktop"!=t.deviceType&&t.data.image_mobile.url?{backgroundImage:"url("+t.data.image_mobile.url+")"}:{backgroundImage:"url("+t.data.image.url+")"}}):"video"===t.data.type&&t.data.video_files?o("video",{directives:[{name:"show",rawName:"v-show",value:"desktop"!=t.deviceType&&!t.data.image_mobile.url||"desktop"==t.deviceType,expression:"(deviceType != 'desktop' && !data.image_mobile.url) || deviceType == 'desktop' "}],ref:"video",attrs:{src:t.getVideoUrl(t.data.video_files.filename),autoplay:"",playsinline:"",loop:"",muted:""},domProps:{muted:!0}}):t._e(),t._v(" "),o("div",{staticClass:"black-mask",style:{opacity:t.maskOpacity}})]),t._v(" "),o("div",{ref:"content",staticClass:"hero__main"},[o("scroll-object",{staticClass:"hero__content container",style:{opacity:t.contentOpacity},attrs:{onLoad:!0}},[t.data.subhead||t.page&&t.page.acf.date_text?o("div",{staticClass:"title--h4 hero__subhead title--uppercase"},[t.data.subhead?[t._v(t._s(t.data.subhead))]:t.page&&t.page.acf.date_text?[t._v(t._s(t.page.acf.date_text))]:t._e()],2):t._e(),t._v(" "),t.data.title||t.page.title.rendered?o("h1",{staticClass:"title hero__title",class:["small"!==t.size?"title--h1":"title--h2"]},[o("c-title-splited",{attrs:{data:t.data.title?t.data.title:t.page.title.rendered}})],1):t._e(),t._v(" "),t.data.subtitle?o("div",{staticClass:"text--large hero__subtitle"},[t._v("\n                    "+t._s(t.data.subtitle)+"\n                ")]):t._e(),t._v(" "),t.data.content?o("div",{staticClass:"headline hero__text",domProps:{innerHTML:t._s(t.data.content)}}):t._e()]),t._v(" "),"small"!==t.size?o("c-scroll-arrow",{staticClass:"hero__arrow"}):t._e()],1)])]):t._e()}),[],!1,null,"41a04f6c",null);e.a=component.exports},465:function(t,e,o){"use strict";o(23),o(17),o(14),o(11),o(19),o(45),o(46);var n=o(7),r=o(9);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var l={props:["data","slugs"],data:function(){return{currentPlaying:"none"}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.c)({pushs:"pushs"}),{list:function(){var t=this;if(this.data){for(var e=[],i=0;i<this.data.length;i++)this.data[i].push&&e.push(this.getPush(this.data[i].push));return e}if(this.slugs){if(!this.pushs)return[];var o=this.pushs;return o=o.filter((function(e){return t.slugs.includes(e.slug)}))}return this.pushs?this.pushs.slice(0).sort((function(){return.5-Math.random()})).slice(0,2):[]}}),created:function(){this.onLoad||this.$nuxt.$on("layoutScroll",this.onScroll)},methods:{playVideo:function(t){t.currentTarget.querySelector("video").play(),this.currentPlaying=t.currentTarget.dataset.index},pauseVideo:function(t){t.currentTarget.querySelector("video").pause(),this.currentPlaying=""},onScroll:function(){if(window.innerWidth<=991)for(var video=this.$refs.video,i=0;i<video.length;i++)video[i].getBoundingClientRect().top<window.innerHeight&&video[i].play()}},destroyed:function(){this.$nuxt.$off("layoutScroll",this.onScroll)}},d=(o(463),o(4)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.list&&t.list.length?o("section",{staticClass:"pushs"},t._l(t.list,(function(e,n){return o("nuxt-link",{key:e.id,staticClass:"push",attrs:{to:t.localePath(t.getInternalLink(e.acf.footer_push.link)),"data-index":n+1},nativeOn:{mouseenter:function(e){return t.playVideo(e)},mouseleave:function(e){return t.pauseVideo(e)}}},[o("parallax-object",{staticClass:"pushs__bg",attrs:{value:-90}},[e.acf.footer_push.video_files?o("video",{ref:"video",refInFor:!0,attrs:{src:t.getVideoUrl(e.acf.footer_push.video_files.filename),loop:"",muted:"",playsinline:""},domProps:{muted:!0}}):t._e(),t._v(" "),o("transition",{attrs:{name:"fade"}},[t.currentPlaying!=n+1?o("div",{staticClass:"pushs__image"},[o("img",{attrs:{src:e.acf.footer_push.video_cover,alt:""}})]):t._e()])],1),t._v(" "),o("div",{staticClass:"overlay",class:e.acf.footer_push.video?"overlay--video":""}),t._v(" "),o("div",{staticClass:"pushs__title title--h3 title--uppercase"},[t._v("\n            "+t._s(e.acf.footer_push.title)+"\n        ")])],1)})),1):t._e()}),[],!1,null,"56ce3a75",null);e.a=component.exports},466:function(t,e,o){"use strict";var n={data:function(){return{mobile:!1,directionValue:0,direction:""}},created:function(){this.$nuxt.$on("layoutScroll",this.onScroll)},mounted:function(){this.onScroll(),window.innerWidth<992&&(this.mobile=!0)},methods:{onScroll:function(t){document.querySelector(".hero")&&(document.querySelector(".hero").getBoundingClientRect().top<-20?t>this.directionValue?this.direction="down":this.direction="up":this.direction="",this.directionValue=t)},scrollDown:function(){this.$nuxt.$emit("scrollTo",window.innerHeight-150,!1)}},destroyed:function(){this.$nuxt.$off("layoutScroll",this.onScroll)}},r=(o(469),o(4)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll-object",{staticClass:"scroll-arrow",class:[t.direction&&!t.mobile?t.direction:"",t.mobile?"active":""],attrs:{onLoad:"true"},nativeOn:{click:function(e){return t.scrollDown(e)}}},[n("div",{staticClass:"circle"},[n("img",{attrs:{src:o(462),alt:""}}),t._v(" "),n("div",{staticClass:"icon icon-arrow-down"})])])}),[],!1,null,"6620d989",null);e.a=component.exports},467:function(t,e,o){"use strict";var n={data:function(){return{visible:!1,activeSection:0}},props:["theme","action","data","activeAnchor","previous","next","collectionsCta"],inject:["navClick"],created:function(){this.$nuxt.$on("layoutScroll",this.onScroll)},methods:{onScroll:function(t){this.visible=t>.75*window.innerHeight},scrollTo:function(t){this.activeSection=t,this.$nuxt.$emit("scrollTo",this.sections[t-1].offsetTop-200,!1)}},destroyed:function(){this.$nuxt.$off("layoutScroll",this.onScroll)}},r=(o(472),o(4)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"nav",staticClass:"nav",class:[{visible:t.visible},t.action?"nav--"+t.action:"",t.theme?"nav--"+t.theme:""]},[o("div",{staticClass:"container container--fluid"},[o("div",[t.previous?t._e():o("button",{staticClass:"nav__button back",on:{click:function(e){return t.$router.go(-1)}}},[o("div",{staticClass:"icon icon-previous"}),t._v(" "),o("div",{staticClass:"label"},[t._v(t._s(t.$t("Back")))])]),t._v(" "),t.previous?o("a",{staticClass:"nav__button back",attrs:{href:t.localePath(t.previous.link)}},[o("div",{staticClass:"icon icon-previous"}),t._v(" "),o("div",{staticClass:"label",domProps:{innerHTML:t._s(t.previous.label)}})]):t._e()]),t._v(" "),t.collectionsCta?o("div",{directives:[{name:"show",rawName:"v-show",value:"desktop"!=t.deviceType,expression:"deviceType != 'desktop'"}],staticClass:"nav__collection"},[o("nuxt-link",{attrs:{to:t.localePath({name:"collections"})}},[o("div",{staticClass:"label"},[t._v(t._s(t.$t("Back to collection")))])])],1):t._e(),t._v(" "),o("ul",t._l(t.data,(function(e,n){return o("li",{class:{active:t.activeAnchor===n},on:{click:function(e){return t.navClick(n)}}},[o("div",{staticClass:"label link",class:"light"==t.theme?"link--black":""},[t._v(t._s(e))])])})),0),t._v(" "),o("div",[t.next?o("a",{staticClass:"nav__button next",attrs:{href:t.localePath(t.next.link)}},[o("div",{staticClass:"label",domProps:{innerHTML:t._s(t.next.label)}}),t._v(" "),o("div",{staticClass:"icon icon-next"})]):t._e()])])])}),[],!1,null,"8fa8eaec",null);e.a=component.exports},469:function(t,e,o){"use strict";var n=o(459);o.n(n).a},470:function(t,e,o){"use strict";var n=o(460);o.n(n).a},472:function(t,e,o){"use strict";var n=o(461);o.n(n).a},508:function(t,e,o){"use strict";(function(t){o(23),o(17),o(19);var n=o(7),r=o(30),c=(o(14),o(11),o(61),o(467)),l=o(464),d=o(465),h=o(130),f=o(9);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}e.a={asyncData:function(t){var e=t.store,o=t.error,n=t.app;return Promise.all([e.dispatch("fetchWPData",{context:n,type:"pages",query:{slug:"historical-models"}}),e.dispatch("fetchWPData",{context:n,type:"historical_model"}),e.dispatch("fetchWPData",{context:n,type:"dispatch"}),e.dispatch("fetchWPData",{context:n,type:"footer_push"})]).then((function(t){var e=Object(r.a)(t,2),o=e[0],data=e[1];return new Promise((function(t){setTimeout((function(){t({data:o[0],list:data})}),400)}))})).catch((function(t){o({statusCode:404,message:"Page not found"})}))},data:function(){return{modal:!1,floatingFixed:!1,floatingBottom:!1,floatingVisible:!1,itemModal:!1,activeProduct:1,activeModel:1,activeYear:"",slickOptions:{mobileFirst:!0,arrows:!0,dots:!1,infinite:!0,slidesToShow:1,prevArrow:'<button class="slick-nav slick-nav--left icon-previous"></button>',nextArrow:'<button class="slick-nav slick-nav--right icon-next"></button>'}}},head:function(){var title=this.$t("Historical models"),e=this.data.acf.seo.description||this.data.acf.hero.content;return{title:"- ".concat(title),meta:[{hid:"og:title",property:"og:title",content:"Richard Mille - "+title},{hid:"og:url",property:"og:url",content:t.env.FRONT_PROTOCOL+"://"+t.env.FRONT_DOMAIN+this.$route.fullPath},{hid:"description",name:"description",content:e},{hid:"og:description",property:"og:description",content:e}]}},components:{"c-hero":l.a,"c-pushs":d.a,"c-nav":c.a,"c-floating-text":h.a},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(source,!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(f.b)({setNavActive:"setNavActive"}),{disableScroll:function(){this.$nuxt.$emit("disableScroll")},activeScroll:function(){this.$nuxt.$emit("enableScroll",this.$refs.modal)},goToAnchor:function(t){this.$nuxt.$emit("scrollTo",document.getElementById(t).getBoundingClientRect().top-200,!0)},navClick:function(t){var e=this,o=this.$refs.product.filter((function(o){return o.$el.dataset.date==e.years[t]}))[0].$el;this.$nuxt.$emit("scrollTo",o.getBoundingClientRect().top-200,!0)},onScroll:function(t){if(this.$refs.floating&&this.$refs.product&&this.$refs.pushs&&this.$refs.title){var e=this.$refs.product,o=this.$refs.floating.getBoundingClientRect().top,n=window.innerHeight,r=this.$refs.pushs.$el.offsetTop,title=this.$refs.title;this.floatingVisible=o<n/2&&t<r-600&&t>n-110;for(var i=1;i<e.length+1;i++)Math.abs(title[i-1].getBoundingClientRect().top-200)-title[1].offsetHeight<=0&&(this.activeProduct=e.indexOf(e[i]),this.activeYear=e[i-1].$el.dataset.date)}},updateYear:function(){var t=this;this.activeModel?(this.activeModel=!1,this.bgTimeout&&clearTimeout(this.bgTimeout),this.bgTimeout=setTimeout((function(){t.activeModel=t.activeProduct}),300)):this.activeModel=this.activeProduct},initNav:function(){var t=this.getParentDispatch(this.data.slug);t&&this.setNavActive({value:t})}}),computed:{activeAnchor:function(){return this.years.indexOf(this.activeYear)},sortedData:function(){var t=this.list.slice(0);return t.sort((function(a,b){b.acf.settings.order_code,a.acf.settings.order_code;return b.acf.settings.order_code<a.acf.settings.order_code?1:b.acf.settings.order_code>a.acf.settings.order_code?-1:0})),t.sort((function(a,b){return a.acf.presentation.date.localeCompare(b.acf.presentation.date)})),t},singleData:function(){var t=this.$route.query.id;return t&&this.list.filter((function(e){return e.slug==t}))[0]||!1},years:function(){for(var t=[],i=0;i<this.list.length;i++){var e=this.list[i].acf.presentation.date;t.indexOf(e)<0&&t.push(e)}return t=t.sort((function(a,b){return a.localeCompare(b)}))}},created:function(){this.initNav()},mounted:function(){var t=this;if(console.log("Historical models",this.data,this.sortedData),this.$route.query.id&&this.goToAnchor(this.$route.query.id),"desktop"==this.deviceType&&(this.$nuxt.$on("layoutScroll",this.onScroll),this.$refs.product)){var e=this.$refs.product;this.activeYear=e[0].$el.dataset.date}setTimeout((function(){t.$forceUpdate(),console.log("force update")}),5e3)},provide:function(){return{navClick:this.navClick}},destroyed:function(){this.$nuxt.$off("layoutScroll",this.onScroll),this.setNavActive({value:!1})},watch:{activeYear:function(){this.updateYear()},singleData:function(t){var e=this;this.$nextTick((function(){t?(console.log("disabled",e.$refs.modal),e.disableScroll(e.$refs.modal)):e.activeScroll()}))}}}}).call(this,o(129))},509:function(t,e,o){},575:function(t,e,o){"use strict";var n=o(509);o.n(n).a},632:function(t,e,o){"use strict";o.r(e);var n=o(508).a,r=(o(575),o(4)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"historical-models"},[o("c-hero",{attrs:{data:t.data.acf.hero}}),t._v(" "),o("c-nav",{attrs:{action:"anchor",previous:t.getPreviousPush(t.data.acf.footer),activeAnchor:t.activeAnchor,next:t.getNextPush(t.data.acf.footer),data:t.years}}),t._v(" "),o("section",{staticClass:"container"},[o("scroll-object",{staticClass:"historical-models__intro",attrs:{opacity:"true"}},[o("parallax-object",{attrs:{value:50}},[o("p",{staticClass:"headline"},[t._v(t._s(t.data.acf.intro.content))]),t._v(" "),o("p",{staticClass:"text"},[t._v(t._s(t.data.acf.intro.content_light))])])],1),t._v(" "),o("div",{staticClass:"historical-models__list"},[o("transition",{attrs:{name:"fade"}},[t.activeModel?o("div",{ref:"floating",staticClass:"historical-models__bg",class:[t.floatingVisible?"":"invisible",t.floatingBottom?"bottom":""]},[o("c-floating-text",{staticClass:"historical-models__floating-text"},[t._v(t._s(t.activeYear))])],1):t._e()]),t._v(" "),t._l(t.sortedData,(function(e,n){return o("scroll-object",{key:n,ref:"product",refInFor:!0,staticClass:"item",class:{"item--left":n%2==1,"item--right":n%2==0},attrs:{opacity:"true","data-date":e.acf.presentation.date,id:e.slug}},[o("div",{staticClass:"item__image"},[o("parallax-object",{attrs:{value:100}},[o("div",{staticClass:"item__image__wrapper"},[o("img",{attrs:{src:e.acf.presentation.image},on:{"update:src":function(o){return t.$set(e.acf.presentation,"image",o)}}})])])],1),t._v(" "),o("div",{staticClass:"item__content"},[o("div",[o("p",{ref:"title",refInFor:!0,staticClass:"item__title title--h2"},[t._v(t._s(e.title.rendered))]),t._v(" "),o("p",{staticClass:"item__date headline"},[t._v(t._s(e.acf.presentation.date))]),t._v(" "),o("p",{staticClass:"item__text text"},[t._v(t._s(e.acf.presentation.excerpt))]),t._v(" "),o("div",{staticClass:"item__cta button"},[o("c-button",{attrs:{value:t.$t("Discover more"),link:{name:"historical-models",query:{id:e.slug}}}})],1)])])])})),t._v(" "),o("transition",{attrs:{name:"single-display"}},[t.singleData?o("div",{ref:"modal",staticClass:"modal out-of-scroll",attrs:{"data-scroll-lock-scrollable":""}},[o("div",{staticClass:"modal__container"},[o("nuxt-link",{staticClass:"modal__close icon icon-cross",attrs:{to:t.localePath({name:"historical-models"})}}),t._v(" "),o("p",{staticClass:"title--h1 modal__title"},[t._v(t._s(t.singleData.title.rendered))]),t._v(" "),o("div",{staticClass:"headline modal__headline",domProps:{innerHTML:t._s(t.singleData.acf.content.top)}}),t._v(" "),o("div",{staticClass:"text text--grey modal__text",domProps:{innerHTML:t._s(t.singleData.acf.content.main)}}),t._v(" "),t.singleData.acf.content.gallery?o("div",{staticClass:"historical-models__gallerie"},[o("slick",{ref:"slick",attrs:{options:t.slickOptions}},t._l(t.singleData.acf.content.gallery,(function(t){return o("div",{staticClass:"historical-models__gallerie__image"},[o("img",{attrs:{src:t.url}})])})),0)],1):t._e()],1)]):t._e()])],2)],1),t._v(" "),t.singleData?o("nuxt-link",{staticClass:"modal__overlay out-of-scroll",attrs:{to:t.localePath({name:"historical-models"})}}):t._e(),t._v(" "),o("c-pushs",{ref:"pushs",attrs:{data:t.data.acf.footer}})],1)}),[],!1,null,"9ae4483a",null);e.default=component.exports}}]);